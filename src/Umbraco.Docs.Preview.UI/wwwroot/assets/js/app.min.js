_.templateSettings={interpolate:/\{\{(.+?)\}\}/g,evaluate:/\{\[([\s\S]+?)\]\}/g},jQuery(document).ready(function(){var ink,x,y,bodyVar=$("body");$(".search-all");$(".user, .close").click(function(e){e.preventDefault(),e.stopPropagation(),bodyVar.toggleClass("quickmenu")}),$(".wrapper").on("click",function(){bodyVar.removeClass("quickmenu")}),$("#toggle a").click(function(e){e.preventDefault(),$(".cross").toggleClass("open"),$("nav").toggleClass("open"),$("body").toggleClass("navopen")}),$(".pm-nuget").on("click",".nuget",function(){$(this).focus(),$(this).select()}),$(".tabs li").click(function(){var tab_id=$(this).attr("data-tab"),tab_container=$(this).closest("div");$(tab_container).find(".tabs li").removeClass("current"),$(tab_container).find(".tab-content").removeClass("current"),$(this).addClass("current"),$("#"+tab_id).addClass("current")}),$("a[href^='#']").on("click",function(navigation){navigation.preventDefault();var target=$(this).attr("href"),navigation=$(".wrapper > header > .navigation");$([document.documentElement,document.body]).animate({scrollTop:$(target).offset().top-navigation.outerHeight()},400),window.location.hash=target}),$(".button, .inked").click(function(e){0===$(this).find(".ink").length&&$(this).prepend("<div class='ink'></div>"),(ink=$(this).find(".ink")).removeClass("animate"),ink.height()||ink.width()||(y=Math.max($(this).outerWidth(),$(this).outerHeight()),ink.css({height:y,width:y})),x=e.pageX-$(this).offset().left-ink.width()/2,y=e.pageY-$(this).offset().top-ink.height()/2,ink.css({top:y+"px",left:x+"px"}).addClass("animate")})});var classOnScrollObject=function(selector,className,scrollDistance){this.item=$(selector),this.itemClass=className,this.scrollDistance=scrollDistance,this.classApplied=!1,this.scrollContainer=$(window),this.fromTop=this.scrollContainer.scrollTop()};function classOnScroll(selector,className,scrollDistance){var newClassOnScroll=new classOnScrollObject(selector,className,scrollDistance);newClassOnScroll.applyClass(),newClassOnScroll.scrollContainer.scroll(function(){newClassOnScroll.applyClass()})}classOnScrollObject.prototype.applyClass=function(){this.fromTop=this.scrollContainer.scrollTop(),this.fromTop>this.scrollDistance&&!1===this.classApplied?(this.classApplied=!0,this.item.addClass(this.itemClass)):this.fromTop<this.scrollDistance&&!0===this.classApplied&&(this.classApplied=!1,this.item.removeClass(this.itemClass))};
function redirectToSearch(version){var filters,newUri;"click"!==version.type&&13!==version.keyCode||(version.preventDefault(),newUri="",newUri="click"===version.type?$(".search-input").val():this.value.replace(":"," "),filters=getParameterByName("cat"),console.log(filters),void 0===filters&&version&&version.target&&version.target.attributes&&version.target.attributes.class&&version.target.attributes.class.value&&(filters=version.target.attributes.class.value),version=$(".version-search-select").val(),filters=GetSearchFilters(filters),newUri=updateQueryString("q",newUri,newUri="/search"),"search-input"!==filters.category&&"search-submit"!==filters.category&&(newUri=updateQueryString("cat",filters.category,newUri)),"docs"===filters.category&&(newUri=updateQueryString("cat","documentation",newUri)),newUri=updateQueryString("fid",filters.forumId,newUri),newUri=updateQueryString("order",filters.order,newUri),newUri=updateQueryString("noreplies",filters.noreplies,newUri),newUri=updateQueryString("replies",filters.replies,newUri),newUri=updateQueryString("solved",filters.solved,newUri),newUri=updateQueryString("unsolved",filters.unsolved,newUri),newUri=updateQueryString("v",version,newUri),window.location=newUri)}function GetSearchFilters(cssClass){var filters={category:void 0,forumId:void 0,order:void 0,solved:void 0,unsolved:void 0,replies:void 0,noreplies:void 0};void 0===cssClass?filters.category=void 0:(forumId=cssClass.replace("-search-input valid","").replace("-search-input",""),filters.category=forumId);var forumId=(forumId=$("#selectCategory").val())&&forumId.replace(/([A-Za-z])\w+/g,"");return filters.forumId=forumId,filters.order=getParameterByName("order"),filters.solved=getParameterByName("solved"),filters.unsolved=getParameterByName("unsolved"),filters.replies=getParameterByName("replies"),filters.noreplies=getParameterByName("noreplies"),filters}var projectSearch=_.debounce(function(ev){var template,term=$(".project-search-input").val(),defaultListing=$(".projects-default-listing"),searchListing=$(".projects-search-listing");$(".projects-default-listing");0===term.length&&(defaultListing.show(),searchListing.empty()),3<term.length&&(template=_.template($("script.search-item-project").html()),$.ajax({dataType:"json",url:"/umbraco/api/OurSearch/GetProjectSearchResults",data:{term:term.replace(":"," ")},success:function(response){defaultListing.hide(),searchListing.empty(),0===response.items.length&&searchListing.append("<p>No results found</p>"),_.each(response.items,function(item){var itemData=item.Fields.image&&0<item.Fields.image.length?item.Fields.image:null,itemData={nodeName:item.Fields.nodeName,body:_.escape(item.Fields.body.substring(0,150)),url:item.Fields.url,karma:item.Fields.karma,downloads:item.Fields.downloads,versions:item.Fields.versions,image:itemData};searchListing.append(template(itemData))})}}))},300),docsSearch=_.debounce(function(ev){var template,term=this.value,version=$(".version-search-select").find(":selected").val(),defaultListing=$(".docs-default-listing"),searchListing=$(".docs-search-listing");0===term.length&&(defaultListing.show(),searchListing.empty()),3<term.length&&(template=_.template($("script.search-item-docs").html()),searchListing.addClass("fadeResultOut"),$.ajax({dataType:"json",url:"/umbraco/api/OurSearch/GetDocsSearchResults",data:{term:term,version:version},success:function(response){defaultListing.hide(),searchListing.empty(),setTimeout(function(){searchListing.removeClass("fadeResultOut")},1e3),0===response.items.length&&searchListing.append("<li>No documentation found</li>"),_.each(response.items,function(itemData){itemData={name:itemData.Fields.nodeName,body:_.escape(itemData.Fields.body.substring(0,150)),url:itemData.Fields.url};searchListing.append(template(itemData))})}}))},300),forumSearch=_.debounce(function(ev){var template,filters,term=this.value,defaultListing=$(".forum-default-listing"),searchListing=$(".forum-search-listing"),searchTable=$(".table-striped");console.log(term),0===term.length&&(defaultListing.show(),searchListing.empty()),3<term.length&&(template=_.template($("script.search-item-forum").html()),searchTable.addClass("fadeResultOut"),filters=GetSearchFilters("forum"),$.ajax({dataType:"json",url:"/umbraco/api/OurSearch/GetForumSearchResults",data:{term:term,forum:filters.forumId},success:function(response){defaultListing.hide(),searchListing.empty(),setTimeout(function(){searchTable.removeClass("fadeResultOut")},1e3),0===response.items.length&&searchListing.append("<tr><td>No threads found</td></tr>"),_.each(response.items,function(itemData){itemData={name:itemData.Fields.nodeName,url:itemData.Fields.url,hasAnswer:1===itemData.Fields.solved,replies:itemData.Fields.replies,body:itemData.Fields.body.substring(0,150),forumUrl:itemData.Fields.parentId,forumName:"Category",updateDate:itemData.Fields.updateDate};searchListing.append(template(itemData))})}}))},300),globalSearch=_.debounce(function(ev){var template,term=this.value;0===term.length&&$(".search-all").removeClass("open"),3<term.length&&(template=_.template($("script.search-item-template").html()),$.ajax({dataType:"json",url:"/umbraco/api/OurSearch/GetGlobalSearchResults",data:{term:term},success:function(linkhtml){$(".search-all").addClass("open"),$(".search-all ul").empty(),_.each(linkhtml.items,function(itemData){var type=itemData.Fields.nodeTypeAlias,itemData={icon:"project"===type?"icon-Box":"documentation"===type?"icon-Book-alt":"icon-Chat",name:itemData.Fields.nodeName,description:_.escape(itemData.Fields.body.substring(0,100)),url:itemData.Fields.url};$(".search-all ul").append(template(itemData))}),0<linkhtml.items.length?(linkhtml='<li class="search-view-all"><a href="/search?q='+linkhtml.term+'">View All results</a></li>',$(".search-all ul").append(linkhtml)):$(".search-all ul").append("<li>No results</li>")}}))},300);function updateQueryString(key,value,url){url=url||window.location.href;var separator=new RegExp("([?&])"+key+"=.*?(&|#|$)(.*)","gi");if(separator.test(url))return null!=value?url.replace(separator,"$1"+key+"="+value+"$2$3"):(url=(hash=url.split("#"))[0].replace(separator,"$1$3").replace(/(&|\?)$/,""),void 0!==hash[1]&&null!==hash[1]&&(url+="#"+hash[1]),url);if(null==value)return url;var hash,separator=-1!==url.indexOf("?")?"&":"?";return url=(hash=url.split("#"))[0]+separator+key+"="+value,void 0!==hash[1]&&null!==hash[1]&&(url+="#"+hash[1]),url}function getParameterByName(results){results=results.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");results=new RegExp("[\\?&]"+results+"=([^&#]*)").exec(location.search);return null===results?void 0:decodeURIComponent(results[1].replace(/\+/g," "))}function initCheckbox(value){"true"===getParameterByName(value)?$("#search-options input[name="+value+"]").prop("checked",!0):(value=getParameterByName(value),$("#search-options input[value="+value+"]").prop("checked",!0))}jQuery(document).ready(function(){$(".docs-search-input").keydown(redirectToSearch).keyup(docsSearch),$(".forum-search-input").keydown(redirectToSearch).keyup(forumSearch),$(".search-input").keydown(redirectToSearch).keyup(globalSearch),$(".search-submit").click(redirectToSearch),$(".project-search-input").keydown(redirectToSearch).keyup(projectSearch),$(".search-big input[type=text]").keydown(redirectToSearch),$("#search-options input[type=checkbox]").click(function(){var newUri;"order"===this.name?"order"===this.name&&(newUri=this.value,newUri=updateQueryString("order",newUri=!1===this.checked?void 0:newUri,window.location.href)):(newUri=updateQueryString(this.name,this.checked,window.location.href),newUri=updateQueryString("page",1,newUri)),console.log(newUri),window.location=newUri}),initCheckbox("replies"),initCheckbox("noreplies"),initCheckbox("solved"),initCheckbox("unsolved"),initCheckbox("order")});